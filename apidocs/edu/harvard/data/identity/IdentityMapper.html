<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Fri Aug 26 11:27:53 EDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IdentityMapper (data_client 1.0.0 API)</title>
<meta name="date" content="2016-08-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IdentityMapper (data_client 1.0.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IdentityMapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/harvard/data/identity/IdentityMapHadoopJob.html" title="class in edu.harvard.data.identity"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/harvard/data/identity/IdentityReducer.html" title="class in edu.harvard.data.identity"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/harvard/data/identity/IdentityMapper.html" target="_top">Frames</a></li>
<li><a href="IdentityMapper.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.harvard.data.identity</div>
<h2 title="Class IdentityMapper" class="title">Class IdentityMapper&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.harvard.data.identity.IdentityMapper&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the Java type of the main identifier over which this job operates.
          Thus, for a mapper job that returns a map from <code>LongWritable</code>
          to <code>Text</code>, this parameter would be <code>Long</code>.</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">IdentityMapper&lt;T&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Helper class that implements the common logic for the various mapper classes
 used during the first identity Hadoop job. For every table that has been
 determined to hold identifying information, a mapper is created that gathers
 all identifiers for each record, grouping them by the data set's main
 identifier. Is is recommended, although not required, that these map jobs be
 generated; see <a href="../../../../edu/harvard/data/generator/IdentityMapperGenerator.html" title="class in edu.harvard.data.generator"><code>IdentityMapperGenerator</code></a> for details of the
 table-specific classes.
 <p>
 Since Hadoop requires that mappers declare the key and value types to be
 processed as part of the mapper definition, there are several identity
 mappers defined (one for each main identifier type). These mappers defer to
 this class for common operations. See <a href="../../../../edu/harvard/data/identity/LongIdentityMapper.html" title="class in edu.harvard.data.identity"><code>LongIdentityMapper</code></a> for an
 example of an identity mapper job.
 <p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../edu/harvard/data/identity/IdentityMapper.html#IdentityMapper--">IdentityMapper</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../edu/harvard/data/identity/IdentityMapper.html" title="type parameter in IdentityMapper">T</a>,<a href="../../../../edu/harvard/data/identity/HadoopIdentityKey.html" title="class in edu.harvard.data.identity">HadoopIdentityKey</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/harvard/data/identity/IdentityMapper.html#map-org.apache.hadoop.io.Text-edu.harvard.data.identity.TableIdentityMapper-">map</a></span>(org.apache.hadoop.io.Text&nbsp;value,
   <a href="../../../../edu/harvard/data/identity/TableIdentityMapper.html" title="interface in edu.harvard.data.identity">TableIdentityMapper</a>&lt;<a href="../../../../edu/harvard/data/identity/IdentityMapper.html" title="type parameter in IdentityMapper">T</a>&gt;&nbsp;idMapper)</code>
<div class="block">Process a single record to produce a map from the data set's main
 identifier (of type <code>T</code>) to a <a href="../../../../edu/harvard/data/identity/HadoopIdentityKey.html" title="class in edu.harvard.data.identity"><code>HadoopIdentityKey</code></a> object that
 contains all identifiers that relate to a given individual.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/harvard/data/identity/IdentityMapper.html#setup-org.apache.hadoop.mapreduce.Mapper.Context-">setup</a></span>(org.apache.hadoop.mapreduce.Mapper.Context&nbsp;context)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IdentityMapper--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IdentityMapper</h4>
<pre>public&nbsp;IdentityMapper()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setup-org.apache.hadoop.mapreduce.Mapper.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;void&nbsp;setup(org.apache.hadoop.mapreduce.Mapper.Context&nbsp;context)</pre>
</li>
</ul>
<a name="map-org.apache.hadoop.io.Text-edu.harvard.data.identity.TableIdentityMapper-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>map</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../edu/harvard/data/identity/IdentityMapper.html" title="type parameter in IdentityMapper">T</a>,<a href="../../../../edu/harvard/data/identity/HadoopIdentityKey.html" title="class in edu.harvard.data.identity">HadoopIdentityKey</a>&gt;&nbsp;map(org.apache.hadoop.io.Text&nbsp;value,
                                    <a href="../../../../edu/harvard/data/identity/TableIdentityMapper.html" title="interface in edu.harvard.data.identity">TableIdentityMapper</a>&lt;<a href="../../../../edu/harvard/data/identity/IdentityMapper.html" title="type parameter in IdentityMapper">T</a>&gt;&nbsp;idMapper)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Process a single record to produce a map from the data set's main
 identifier (of type <code>T</code>) to a <a href="../../../../edu/harvard/data/identity/HadoopIdentityKey.html" title="class in edu.harvard.data.identity"><code>HadoopIdentityKey</code></a> object that
 contains all identifiers that relate to a given individual. This method
 uses a <a href="../../../../edu/harvard/data/identity/TableIdentityMapper.html" title="interface in edu.harvard.data.identity"><code>TableIdentityMapper</code></a> to determine the specific identity
 values that can be extracted from a given record.
 <p>
 Depending on the table being analyzed, there are two cases to consider. In
 the first case, there is exactly one column in the table that contains the
 dataset's main identifier (we assume the case with zero identifiers does
 not occur, since such a table would not be specified as a candidate for the
 identity Hadoop job). When there is one main identifier column, we assume
 that any other identifier in the table relates to the same individual. Thus
 for a hypothetical <code>user</code> table, the main identifier may be the
 primary key, but other interesting identifiers may exist, such as foreign
 keys into external systems. In that case, the <code>HadoopIdentityKey</code>
 returned for that user will contain all the identifiers in the record.
 <p>
 In the second case, there may be multiple main identifier columns in the
 table. This would be the case in a join table that connects two entries in
 the <code>user</code> table together. In this case, we can't make any
 assumptions around the other values in the record, since they may be
 related to any one of the main identifiers. When we encounter this case we
 record the values of the main identifiers, but do not populate the
 <code>HadoopIdentityKey</code> objects any further.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - the Hadoop <code>Text</code> object that wraps the record to be
          processed by this method. The body of the <code>Text</code> object must
          be formatted according to the <a href="../../../../edu/harvard/data/TableFormat.html" title="class in edu.harvard.data"><code>TableFormat</code></a> specified in
          <a href="../../../../edu/harvard/data/identity/IdentityMapper.html#format"><code>format</code></a>.</dd>
<dd><code>idMapper</code> - a table-specific mapper object that implements the
          <code>TableIdentityMapper</code> class. This object is used to
          determine which fields in the record represent identifiers.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> from <code>T</code> (the main identifier type) to
         <code>HadoopIdentityKey</code> that contains the identity information
         discovered by this method. This map may be empty, but will never be
         null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs when parsing the <code>value</code> text string.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IdentityMapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/harvard/data/identity/IdentityMapHadoopJob.html" title="class in edu.harvard.data.identity"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/harvard/data/identity/IdentityReducer.html" title="class in edu.harvard.data.identity"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/harvard/data/identity/IdentityMapper.html" target="_top">Frames</a></li>
<li><a href="IdentityMapper.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
